
---
title: "Mysql 介绍1"
date: 2022-01-02
categories:
- tranquilpeak
- features
tags:
- mysql
# keywords:
# - mysql

thumbnailImagePosition: left
# thumbnailImage: //d1u9biwaxjngwg.cloudfront.net/elements-showcase/vintage-140.jpg
---

<!--more-->

### Mysql 介绍1

```
来源什么的就不赘述了，毕竟网上太多了，看了也是忘，
我们先讲讲mysql 的索引结构吧 
首先 mysql 是用的b+树做索引 因为b+树是把所有的数据都放在了叶子结点上（是为了顺序查询的便利，效率比较高 ，然后把数据房还在叶子结点
树的层高比较低能够减少数据查询的时候对io 的查询次数 提高查询效率）因为它内节点不存储data，这样一个节点就可以存储更多的key。
```

#### 1:B tree 和 B+tree 的区别是什么

```
1:B+Tree 关键字的搜索采用的是左闭合区间，之所以采用左闭合区间是因为他要最好的去支持自增id，这也是musql的设计初衷。即如果id=1命中，会继续往下查找，知道找到叶子节点中的1
2:B+Tree 根节点和支节点没有数据区，关键字对应的数据只保存在叶子节点。即只有叶子节点中的关键字数据区才会保存真正的数据内容或者是内容的地址。而在B Tree中，如果根节点命中，则会直接返回数据。
3:在B+Tree中，叶子节点不会去保存子节点的引用
4:B+Tree叶子节点是顺序排列的，并且相邻的节点具有顺序引用的关系，如上图中叶子节点之间有指针相连接。
```

#### 2:三大范式

```
第一范式(确保每列保持原子性)
第一范式是最基本的范式。如果数据库表中的所有字段值都是不可分解的原子值，就说明该数据库表满足了第一范式。
第二范式(确保表中的每列都和主键相关)
第二范式在第一范式的基础之上更进一层。
第二范式需要确保数据库表中的每一列都和主键相关。也就是说在一个数据库表中，一个表中只能保存一种数据，不可以
把多种数据保存在同一张数据库表中。
第三范式(确保每列都和主键列直接相关,而不是间接相关)
第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。
```

#### 3: 事务

```
事务：作为单个逻辑工作单元
为了保证数据的完整性，成批的SQL要么全部执行，要么全部不执行。
通常用来操作数据量大，复杂度高的数据
MySQL中只有使用innerDB引擎才支持事务

事务的隔离级别   性能从高到低
Read _Uncommitted  读未提交    高
Read _Committed   读已提交
Repeatable _read    可重复度
Serialzable      序列化读       低

mysql默认的事务隔离级别是   可重复读
Select  @@tx_isolation
基于会话的修改mysql的隔离级别
Set  tx_isolation  =  隔离级别

隔离级别产生的问题：
                   脏读       可重复读         幻读
读未提交             有            有           有
读已提交                           有           有
可重复读                                        有
序列化读
读未提交--------------
脏读：A事务读取到B事务未提交的数据，在使用数据时B事务
回滚了事务，A拿到了一个不存在的数据
读已提交：----------------
不可重复度：两次读取数据不一致
可重复度
幻读：   插入数据
```

#### 4:ACID特性

```
ACID特性
原子性：要么全部执行，要么全部不执行
一致性 ：事务开始前结束后对数据的完整性不会破坏
隔离性 ：允许多个并发事务同时对数据的读写，防止多个并发执行引起的不一致
持久性：事务处理结束后，对数据的修改是永久的
常用操作
begin 开始事务
rollback 回滚
commit 结束事务
想要使用事务必须使用INNODB引擎
```

#### 5: mysql 引擎

```
常用MySQL引擎, 分别是MyISAM、InnoDB、Memory和CSV
MySAM是MySQL 5.5.8版本之前的默认引擎, 在MySQL 5.5.8+后的默认存储引擎是InnoDB。
InnoDB 的特点 ：支持事务 默认使用行级锁 5.7版本后支持全文检索与空间函数
在InnoDB中, 只有利用索引的更新, 删除操作才会使用行级锁, 不能使用索引的写操作则是表级锁
MyISAM Memory 都不支持事务 
```

